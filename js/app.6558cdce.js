(function(t){function a(a){for(var s,n,o=a[0],c=a[1],l=a[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(a);while(p.length)p.shift()();return i.push.apply(i,l||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,o=1;o<e.length;o++){var c=e[o];0!==r[c]&&(s=!1)}s&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var s={},r={app:0},i=[];function n(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=s,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)n.d(e,s,function(a){return t[a]}.bind(null,s));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/fatora-task/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var l=0;l<o.length;l++)a(o[l]);var d=c;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0b4c":function(t,a,e){},"37a9":function(t,a,e){},"396a":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);var s=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Navbar"),e("router-view")],1)},i=[],n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"nav-bar"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"nav-bar__body"},[s("div",{staticClass:"nav-bar__info"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"nav-bar__logo",attrs:{src:e("9b19"),alt:""}})]),s("ul",{staticClass:"nav-bar__links-list"},[s("li",{staticClass:"nav-bar__link-item"},[s("router-link",{staticClass:"nav-bar__link",attrs:{to:"/favroite"}},[s("span",[t._v(" Favroite ")])])],1),s("li",{staticClass:"nav-bar__link-item mx-3"},[s("router-link",{staticClass:"nav-bar__link",attrs:{to:"/uploads"}},[s("span",[t._v(" Uploads ")])])],1)])],1),s("form",{staticClass:"nav-bar__form",on:{submit:function(a){return a.preventDefault(),t.searchHandler.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"nav-bar__input",attrs:{type:"text",placeholder:"Search Here"},domProps:{value:t.searchText},on:{input:function(a){a.target.composing||(t.searchText=a.target.value)}}}),t._m(0)])])])])])])},o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"nav-bar__btn"},[e("i",{staticClass:"fas fa-search"})])}],c={name:"nav-bar",data(){return{searchText:""}},methods:{searchHandler(){this.$store.commit("setSearchText",this.searchText),this.$router.push("/search/"+this.searchText)}}},l=c,d=(e("6b19"),e("2877")),u=Object(d["a"])(l,n,o,!1,null,null,null),p=u.exports,f={name:"App",components:{Navbar:p}},h=f,m=(e("5c0b"),Object(d["a"])(h,r,i,!1,null,null,null)),g=m.exports,v=e("8c4f"),_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home-page"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("header",{staticClass:"home-page__header"},[e("h1",{staticClass:"home-page__title"},[t._v("Trending Gifs")]),e("div",{staticClass:"home-page__dropdown"},[e("button",{staticClass:"home-page__dropdown-btn",attrs:{type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("span",[t._v(" Sort By:")]),e("span",{staticClass:"home-page__dropdown-value"},[t._v(" "+t._s(t.sortType)+" ")])]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){t.sortType="newest"}}},[t._v(" Newest ")]),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(a){t.sortType="oldest"}}},[t._v(" Oldest ")])])])])]),e("div",{staticClass:"col-md-12"},[e("GifsGrid",{attrs:{gifsArray:t.sortedGifsData}})],1)])])])},b=[],C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"gif-grid"},t._l(t.gifsArray,(function(t,a){return e("GifCard",{key:"gif_card_"+a,attrs:{gifData:t}})})),1)},y=[],w=e("93a1"),D=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"gif-card"},[e("picture",{staticClass:"gif-card__picture"},[e("source",{attrs:{type:"image/webp",srcset:t.gifData.images.downsized.url}}),e("img",{staticClass:"gif-card__img",style:{background:"#"+t.randomColor},attrs:{width:t.gifData.images.downsized.width,height:t.gifData.images.downsized.height}})]),e("button",{staticClass:"gif-card__add-to-fav",class:{"gif-card__add-to-fav--active":t.checkIfFav||t.activeFav},on:{click:t.addToFav}},[e("i",{staticClass:"fas fa-heart"})])])},x=[],S={name:"gif-card",props:{gifData:{type:Object,default:()=>[]}},data(){return{activeFav:!1}},computed:{checkIfFav(){const t=localStorage.getItem("fav_gifs_ids");if(t)return t.includes(this.gifData.id)},randomColor(){return Math.floor(16777215*Math.random()).toString(16)}},methods:{addToFav(){this.activeFav=!0,this.checkIfFav||this.$storeArrayInLocalStorage(this.gifData.id,"fav_gifs_ids")}}},T=S,E=(e("c060"),Object(d["a"])(T,D,x,!1,null,null,null)),$=E.exports,G={name:"gif-grid",components:{GifCard:$,VueMasonryWall:w["a"]},props:{gifsArray:{type:Array,default:()=>[]}},data(){return{options:{}}}},F=G,O=(e("8937"),Object(d["a"])(F,C,y,!1,null,null,null)),k=O.exports,j={name:"home-page",components:{GifsGrid:k},data(){return{gifsData:[],sortType:"newest",currentPage:25}},mounted(){this.getData(),this.onScrollEvent()},computed:{sortedGifsData(){return this.sortData(this.gifsData)}},methods:{async getData(){try{const t=await this.$api.get("/gifs/trending",{params:{offset:this.currentPage}}),a=t.data.data;a.map(t=>{this.gifsData.push(t)})}catch(t){console.log(t)}},sortData(t){let a;return a="newest"==this.sortType?t.sort((t,a)=>new Date(a.import_datetime)-new Date(t.import_datetime)):t.sort((t,a)=>new Date(t.import_datetime)-new Date(a.import_datetime)),a.map(t=>{console.log(t.import_datetime)}),a},scrollFunHandler(){let t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;t&&(this.currentPage=this.currentPage+25,this.getData())},onScrollEvent(){window.addEventListener("scroll",this.scrollFunHandler)}},watch:{sortType:function(t){this.getData()}},beforeDestroy(){window.removeEventListener("scroll",this.scrollFunHandler)}},H=j,A=(e("95c4"),Object(d["a"])(H,_,b,!1,null,null,null)),P=A.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"favroite-page"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),t.gifsData.length?e("div",{staticClass:"col-md-12"},[e("GifsGrid",{attrs:{gifsArray:t.gifsData}})],1):e("div",{staticClass:"col-md-12"},[e("h1",{staticClass:"text-center"},[t._v("No Data Found")])])])])])},M=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h1",{staticClass:"page-title"},[t._v("Favroite Gifs")])])}],U={name:"favroite-page",components:{GifsGrid:k},data(){return{gifsData:[]}},mounted(){this.getData()},methods:{async getData(){try{const t=localStorage.getItem("fav_gifs_ids");if(t){const a=await this.$api.get("/gifs",{params:{ids:t}}),e=a.data.data;e.map(t=>{this.gifsData.push(t)})}}catch(t){console.log(t)}}}},L=U,N=(e("58b9"),Object(d["a"])(L,I,M,!1,null,null,null)),B=N.exports,J=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"upload-page"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[t._m(0),e("div",{staticClass:"col-md-12"},[e("UploadGif")],1),t._m(1),t._m(2),t.gifsData.length?e("div",{staticClass:"col-md-12"},[e("GifsGrid",{attrs:{gifsArray:t.gifsData}})],1):e("div",{staticClass:"col-md-12"},[e("h1",{staticClass:"text-center"},[t._v("No Data Found")])])])])])},R=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h1",{staticClass:"page-title"},[t._v("Uploade Gif Here")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("hr",{staticClass:"upload-page__separator-line"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-md-12"},[e("h1",{staticClass:"page-title"},[t._v("Uploaded Gifs")])])}],z=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("form",{staticClass:"uploaded-gif",attrs:{id:"uploadForm"}},[e("input",{attrs:{type:"file",id:"upload",hidden:"",name:"file"},on:{change:t.uploadContent}}),e("label",{staticClass:"uploaded-gif__input-label",class:{"uploaded-gif__input-label--success":t.uploadStatus},attrs:{for:"upload"}},[t._v(" "+t._s(t.uploadStatus?"Uploaded Successfully":"Upload Your Gif")+" ")]),e("p",{staticClass:"uploaded-gif__errors"},[t._v(" "+t._s(t.errors.description)+" ")])])},W=[],Y={name:"uploaded-gif",data(){return{errors:{},uploadStatus:!1}},methods:{async uploadContent(){try{this.uploadStatus=!1;const t=document.getElementById("uploadForm"),a=new FormData(t);a.append("username","fatora-app");const e=await this.$uploadApi.post("/gifs",a);this.uploadStatus=!0,this.$storeArrayInLocalStorage(e.data.data.id,"uploaded_gifs_ids"),this.errors={}}catch(t){this.errors=t.response.data.meta}}}},Q=Y,q=(e("a1d7"),Object(d["a"])(Q,z,W,!1,null,null,null)),V=q.exports,K={name:"upload-page",components:{GifsGrid:k,UploadGif:V},data(){return{gifsData:[]}},mounted(){this.getData()},methods:{async getData(){try{const t=localStorage.getItem("uploaded_gifs_ids");if(t){const a=await this.$api.get("/gifs",{params:{ids:t}}),e=a.data.data;e.map(t=>{this.gifsData.push(t)})}}catch(t){console.log(t)}}}},X=K,Z=(e("fc09"),Object(d["a"])(X,J,R,!1,null,null,null)),tt=Z.exports,at=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"search-page"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("h1",{staticClass:"page-title"},[t._v(" "+t._s(t.searchText)+" ")])]),t.loadingStatus?s("div",{staticClass:"col-md-12 text-center"},[s("img",{attrs:{src:e("cf1c"),alt:""}})]):t.gifsData.length?s("div",{staticClass:"col-md-12"},[s("GifsGrid",{attrs:{gifsArray:t.gifsData}})],1):s("div",{staticClass:"col-md-12"},[s("h1",{staticClass:"text-center"},[t._v("No Data Found")])])])])])},et=[],st={name:"search-page",components:{GifsGrid:k},data(){return{gifsData:[],loadingStatus:!0}},computed:{paramSearchText(){return this.$router.history.current.params.text},searchText(){return this.$store.getters.getSearchText||this.paramSearchText}},mounted(){this.getData(),this.onScrollEvent()},methods:{async getData(){try{this.loadingStatus=!0;const t=await this.$api.get("/gifs/search",{params:{q:this.searchText}}),a=t.data.data;a.map(t=>{this.gifsData.push(t)}),this.loadingStatus=!1}catch(t){console.log(t)}},scrollFunHandler(){let t=document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight;t&&(this.currentPage=this.currentPage+25,this.getData())},onScrollEvent(){window.addEventListener("scroll",this.scrollFunHandler)}},watch:{searchText:function(){this.getData()}},beforeDestroy(){window.removeEventListener("scroll",this.scrollFunHandler)}},rt=st,it=Object(d["a"])(rt,at,et,!1,null,null,null),nt=it.exports;s["a"].use(v["a"]);const ot=[{path:"/",name:"Home",component:P},{path:"/favroite",name:"favroite",component:B},{path:"/uploads",name:"Uploads",component:tt},{path:"/search/:text",name:"search",component:nt}],ct=new v["a"]({routes:ot});var lt=ct,dt=e("2f62");const ut={state:()=>({searchText:""}),mutations:{setSearchText(t,a){t.searchText=a}},getters:{getSearchText(t){return t.searchText}}};var pt=ut;s["a"].use(dt["a"]);var ft=new dt["a"].Store({modules:{Search:pt}}),ht=(e("4989"),e("ab8b"),e("bc3a")),mt=e.n(ht);const gt=mt.a.create({baseURL:"https://api.giphy.com/v1",params:{api_key:"rAiMUOcwHQbsdpLR9FMpJEyY6tpFDw4W"}}),vt=mt.a.create({baseURL:"https://upload.giphy.com/v1",params:{api_key:"rAiMUOcwHQbsdpLR9FMpJEyY6tpFDw4W"}}),_t=(t,a)=>{let e;const s=t,r=localStorage.getItem(a);r?(e=r.split(","),e.push(s),localStorage.setItem(a,e)):e=[s],localStorage.setItem(a,e)};s["a"].config.productionTip=!1,s["a"].prototype.$api=gt,s["a"].prototype.$uploadApi=vt,s["a"].prototype.$storeArrayInLocalStorage=_t,new s["a"]({router:lt,store:ft,render:function(t){return t(g)}}).$mount("#app")},"58b9":function(t,a,e){"use strict";e("37a9")},"5c0b":function(t,a,e){"use strict";e("9c0c")},"5efc":function(t,a,e){},"62dd":function(t,a,e){},"6b19":function(t,a,e){"use strict";e("0b4c")},8937:function(t,a,e){"use strict";e("b0da")},"95c4":function(t,a,e){"use strict";e("d26b")},"9b19":function(t,a,e){t.exports=e.p+"img/logo.21370573.svg"},"9c0c":function(t,a,e){},a1d7:function(t,a,e){"use strict";e("396a")},b0da:function(t,a,e){},c060:function(t,a,e){"use strict";e("5efc")},cf1c:function(t,a,e){t.exports=e.p+"img/loading.31cdfb1e.gif"},d26b:function(t,a,e){},fc09:function(t,a,e){"use strict";e("62dd")}});
//# sourceMappingURL=app.6558cdce.js.map